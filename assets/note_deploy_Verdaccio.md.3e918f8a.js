import{_ as s,o as a,c as n,Q as l}from"./chunks/framework.27045dd1.js";const p="/vitePress/assets/nrm①.8335bbbe.png",o="/vitePress/assets/nrm②.3aae05b8.png",e="/vitePress/assets/nrm③.33350fed.png",t="/vitePress/assets/pm2_error.8761bcbf.png",c="/vitePress/assets/pm2_success.c621434f.png",r="/vitePress/assets/run_verdaccio.f9d2107d.png",i="/vitePress/assets/url.009fabdb.png",y="/vitePress/assets/yaml.aa5cda22.png",d="/vitePress/assets/add_registry.100e0384.png",E="/vitePress/assets/use_registry.20e43357.png",u="/vitePress/assets/adduser.21416a93.png",h="/vitePress/assets/package①.5c4d4e92.png",F="/vitePress/assets/package②.f5f136e9.png",m="/vitePress/assets/package③.6286ca89.png",g="/vitePress/assets/npm_login.f20d555f.png",q="/vitePress/assets/publish_package①.fd5871ea.png",C="/vitePress/assets/publish_package②.901ed4e3.png",b="/vitePress/assets/download_package①.882d5a7c.png",v="/vitePress/assets/download_package②.4540a7f5.png",I=JSON.parse('{"title":"Verdaccio","description":"","frontmatter":{},"headers":[],"relativePath":"note/deploy/Verdaccio.md","filePath":"note/deploy/Verdaccio.md"}'),_={name:"note/deploy/Verdaccio.md"},B=l(`<h1 id="verdaccio" tabindex="-1">Verdaccio <a class="header-anchor" href="#verdaccio" aria-label="Permalink to &quot;Verdaccio&quot;">​</a></h1><h2 id="一、简介" tabindex="-1">一、简介 <a class="header-anchor" href="#一、简介" aria-label="Permalink to &quot;一、简介&quot;">​</a></h2><h3 id="_1-什么是-verdaccio" tabindex="-1">1. 什么是 Verdaccio <a class="header-anchor" href="#_1-什么是-verdaccio" aria-label="Permalink to &quot;1. 什么是 Verdaccio&quot;">​</a></h3><p>“一个基于 Node.js 的轻量级私有仓库”。<br> 平时使用 npm publish 进行发布时，上传的仓库默认地址是 npm，通过 Verdaccio 工具在本地新建一个仓库地址，再把本地的默认上传仓库地址切换到本地仓库地址即可。当 npm install 时没有找到本地的仓库，则 Verdaccio 默认配置中会从 npm 中央仓库下载。</p><p><em><code>注：</code>Verdaccio 表示意大利中世纪晚期 fresco 绘画中流行的一种绿色的意思。</em></p><h3 id="_2-优点" tabindex="-1">2. 优点 <a class="header-anchor" href="#_2-优点" aria-label="Permalink to &quot;2. 优点&quot;">​</a></h3><ul><li>私密性高，仅团队共享。</li><li>安全性高，能够有效的防治恶意代码攻击。</li><li>使用局域网，传输速度快。</li></ul><h3 id="_3-官网" tabindex="-1">3. 官网 <a class="header-anchor" href="#_3-官网" aria-label="Permalink to &quot;3. 官网&quot;">​</a></h3><ul><li><a href="https://verdaccio.org/zh-cn/" target="_blank" rel="noreferrer">官方文档</a></li></ul><h2 id="二、准备环境" tabindex="-1">二、准备环境 <a class="header-anchor" href="#二、准备环境" aria-label="Permalink to &quot;二、准备环境&quot;">​</a></h2><h3 id="_1-npm" tabindex="-1">1. NPM <a class="header-anchor" href="#_1-npm" aria-label="Permalink to &quot;1. NPM&quot;">​</a></h3><p><code>包管理工具</code></p><ul><li>常用命令</li></ul><table><thead><tr><th style="text-align:left;">命令</th><th>描述</th></tr></thead><tbody><tr><td style="text-align:left;">npm who am i</td><td>查看当前用户</td></tr><tr><td style="text-align:left;">npm config list</td><td>查看源地址</td></tr><tr><td style="text-align:left;">npm set registry url</td><td>切换源地址</td></tr><tr><td style="text-align:left;">npm config rm registry</td><td>删除源地址</td></tr><tr><td style="text-align:left;">npm login</td><td>登录</td></tr><tr><td style="text-align:left;">npm publish</td><td>发布</td></tr><tr><td style="text-align:left;">npm unpublish 包名</td><td>撤销发布</td></tr></tbody></table><h3 id="_2-nrm" tabindex="-1">2. NRM <a class="header-anchor" href="#_2-nrm" aria-label="Permalink to &quot;2. NRM&quot;">​</a></h3><p><code>npm 源管理工具（可以快速切换仓库源）</code></p><ul><li>安装</li></ul><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#6A737D;"># 全局安裝</span></span>
<span class="line"><span style="color:#B392F0;">npm</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">install</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-g</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">nrm</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;"># 全局安裝</span></span>
<span class="line"><span style="color:#6F42C1;">npm</span><span style="color:#24292E;"> </span><span style="color:#032F62;">install</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-g</span><span style="color:#24292E;"> </span><span style="color:#032F62;">nrm</span></span></code></pre></div><ul><li>配置环境变量</li></ul><p>在系统变量Path中配置 nodejs的全局安装路径</p><p><img src="`+p+'" alt="nrm"></p><p><img src="'+o+'" alt="nrm"></p><p><img src="'+e+`" alt="nrm"></p><ul><li>常用命令</li></ul><table><thead><tr><th>命令</th><th>描述</th></tr></thead><tbody><tr><td>nrm ls</td><td>查看源地址</td></tr><tr><td>nrm add registry url</td><td>添加源地址</td></tr><tr><td>nrm use registry</td><td>切换源地址</td></tr><tr><td>nrm current</td><td>查看当前源地址</td></tr><tr><td>nrm del registry</td><td>删除源地址</td></tr></tbody></table><h3 id="_3-pm2" tabindex="-1">3. PM2 <a class="header-anchor" href="#_3-pm2" aria-label="Permalink to &quot;3. PM2&quot;">​</a></h3><p><code>进程管理</code> <code>重启策略</code> <code>日志</code> <code>持久化</code> <code>集群模式</code> <code>静态服务</code> <code>应用部署</code> <code>监控</code> <code>...</code></p><ul><li>官网</li></ul><p><a href="https://pm2.io/" target="_blank" rel="noreferrer">英文网</a><a href="https://pm2.fenxianglu.cn/" target="_blank" rel="noreferrer">中文网</a></p><ul><li>介绍</li></ul><p>PM2 是一个守护进程管理工具，帮助您管理和守护您的应用程序。它以简单直观的 C​​LI 命令行方式进行工作。</p><ul><li>安装</li></ul><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#6A737D;"># 全局安裝</span></span>
<span class="line"><span style="color:#B392F0;">npm</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">install</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">pm2@latest</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-g</span></span>
<span class="line"><span style="color:#B392F0;">yarn</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">global</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">add</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">pm2</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;"># 全局安裝</span></span>
<span class="line"><span style="color:#6F42C1;">npm</span><span style="color:#24292E;"> </span><span style="color:#032F62;">install</span><span style="color:#24292E;"> </span><span style="color:#032F62;">pm2@latest</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-g</span></span>
<span class="line"><span style="color:#6F42C1;">yarn</span><span style="color:#24292E;"> </span><span style="color:#032F62;">global</span><span style="color:#24292E;"> </span><span style="color:#032F62;">add</span><span style="color:#24292E;"> </span><span style="color:#032F62;">pm2</span></span></code></pre></div><ul><li>常用命令</li></ul><table><thead><tr><th>命令</th><th>描述</th></tr></thead><tbody><tr><td>pm2 ls</td><td>查看进程</td></tr><tr><td>pm2 start [app.js]</td><td>启动某个应用</td></tr><tr><td>pm2 stop [name/id]</td><td>停止某个应用(进程名/ID)</td></tr><tr><td>pm2 restart [name/id]</td><td>重启某个应用(进程名/ID)</td></tr><tr><td>pm2 describe [name/id]</td><td>查看某个进程的具体情况(进程名/ID)</td></tr><tr><td>pm2 logs [name/id]</td><td>查看应用日志(进程名/ID)</td></tr><tr><td>pm2 delete [name/id]</td><td>删除进程(进程名/ID)</td></tr><tr><td>pm2 stop all</td><td>停止所有应用</td></tr><tr><td>pm2 restart all</td><td>重启所有应用</td></tr><tr><td>pm2 logs</td><td>查看实时日志</td></tr><tr><td>pm2 logs all</td><td>查看所有日志</td></tr><tr><td>pm2 delete all</td><td>删除所有进程</td></tr></tbody></table><ul><li>通过 PM2 启动 Verdaccio</li></ul><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#6A737D;"># 以管理员身份打开 cmd</span></span>
<span class="line"><span style="color:#6A737D;"># 1.直接执行，启动失败</span></span>
<span class="line"><span style="color:#B392F0;">pm2</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">start</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">verdaccio</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># 2.输出日志，查看报错信息</span></span>
<span class="line"><span style="color:#B392F0;">pm2</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">logs</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># 3.正确的 pm2 执行应该拼上 verdaccio 包所在的路径</span></span>
<span class="line"><span style="color:#6A737D;"># D:\\Nvm\\v16.17.0\\node_global\\node_modules\\verdaccio\\bin\\verdaccio</span></span>
<span class="line"><span style="color:#B392F0;">pm2</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">start</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">D:</span><span style="color:#79B8FF;">\\N</span><span style="color:#9ECBFF;">vm</span><span style="color:#79B8FF;">\\v</span><span style="color:#9ECBFF;">16.17.0</span><span style="color:#79B8FF;">\\n</span><span style="color:#9ECBFF;">ode_global</span><span style="color:#79B8FF;">\\n</span><span style="color:#9ECBFF;">ode_modules</span><span style="color:#79B8FF;">\\v</span><span style="color:#9ECBFF;">erdaccio</span><span style="color:#79B8FF;">\\b</span><span style="color:#9ECBFF;">in</span><span style="color:#79B8FF;">\\v</span><span style="color:#9ECBFF;">erdaccio</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;"># 以管理员身份打开 cmd</span></span>
<span class="line"><span style="color:#6A737D;"># 1.直接执行，启动失败</span></span>
<span class="line"><span style="color:#6F42C1;">pm2</span><span style="color:#24292E;"> </span><span style="color:#032F62;">start</span><span style="color:#24292E;"> </span><span style="color:#032F62;">verdaccio</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># 2.输出日志，查看报错信息</span></span>
<span class="line"><span style="color:#6F42C1;">pm2</span><span style="color:#24292E;"> </span><span style="color:#032F62;">logs</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># 3.正确的 pm2 执行应该拼上 verdaccio 包所在的路径</span></span>
<span class="line"><span style="color:#6A737D;"># D:\\Nvm\\v16.17.0\\node_global\\node_modules\\verdaccio\\bin\\verdaccio</span></span>
<span class="line"><span style="color:#6F42C1;">pm2</span><span style="color:#24292E;"> </span><span style="color:#032F62;">start</span><span style="color:#24292E;"> </span><span style="color:#032F62;">D:</span><span style="color:#005CC5;">\\N</span><span style="color:#032F62;">vm</span><span style="color:#005CC5;">\\v</span><span style="color:#032F62;">16.17.0</span><span style="color:#005CC5;">\\n</span><span style="color:#032F62;">ode_global</span><span style="color:#005CC5;">\\n</span><span style="color:#032F62;">ode_modules</span><span style="color:#005CC5;">\\v</span><span style="color:#032F62;">erdaccio</span><span style="color:#005CC5;">\\b</span><span style="color:#032F62;">in</span><span style="color:#005CC5;">\\v</span><span style="color:#032F62;">erdaccio</span></span></code></pre></div><p><img src="`+t+'" alt="error"></p><p><em><code>注：</code>直接运行会启动失败，可输出日志查看，是因为要执行的 verdaccio 包未找到</em></p><p><img src="'+c+`" alt="success"></p><p><em><code>注：</code>pm2 start 后面拼上 verdaccio 包的路径，启动成功，可以访问 <code>http://localhost:4873/</code></em></p><h2 id="三、安装与运行" tabindex="-1">三、安装与运行 <a class="header-anchor" href="#三、安装与运行" aria-label="Permalink to &quot;三、安装与运行&quot;">​</a></h2><h3 id="_1-安装" tabindex="-1">1. 安装 <a class="header-anchor" href="#_1-安装" aria-label="Permalink to &quot;1. 安装&quot;">​</a></h3><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#6A737D;"># 全局安装</span></span>
<span class="line"><span style="color:#6A737D;"># 本地环境 node-16.17.0 npm-8.15.0</span></span>
<span class="line"><span style="color:#B392F0;">npm</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">install</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-g</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">verdaccio</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;"># 全局安装</span></span>
<span class="line"><span style="color:#6A737D;"># 本地环境 node-16.17.0 npm-8.15.0</span></span>
<span class="line"><span style="color:#6F42C1;">npm</span><span style="color:#24292E;"> </span><span style="color:#032F62;">install</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-g</span><span style="color:#24292E;"> </span><span style="color:#032F62;">verdaccio</span></span></code></pre></div><h3 id="_2-运行" tabindex="-1">2. 运行 <a class="header-anchor" href="#_2-运行" aria-label="Permalink to &quot;2. 运行&quot;">​</a></h3><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#6A737D;"># 直接使用 verdaccio 命令运行 (不建议)</span></span>
<span class="line"><span style="color:#B392F0;">verdaccio</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># 使用 pm2 运行 (建议使用pm2托管)</span></span>
<span class="line"><span style="color:#B392F0;">pm2</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">start</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">verdaccio</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;"># 直接使用 verdaccio 命令运行 (不建议)</span></span>
<span class="line"><span style="color:#6F42C1;">verdaccio</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># 使用 pm2 运行 (建议使用pm2托管)</span></span>
<span class="line"><span style="color:#6F42C1;">pm2</span><span style="color:#24292E;"> </span><span style="color:#032F62;">start</span><span style="color:#24292E;"> </span><span style="color:#032F62;">verdaccio</span></span></code></pre></div><ul><li>在路径 <code>C: \\Users \\Lemon \\AppData\\Roaming\\verdaccio\\</code> 下生成默认的配置文件 config.yaml</li></ul><p><img src="`+r+'" alt="run"></p><ul><li>默认页面地址：<code>http://localhost:4873/</code></li></ul><p><img src="'+i+'" alt="url"></p><ul><li>配置 <code>config.yaml</code> 文件后，可以通过 <code>http://192.168.3.7:4873/</code> 访问页面</li></ul><p><img src="'+y+`" alt="yaml"></p><h2 id="四、配置流程" tabindex="-1">四、配置流程 <a class="header-anchor" href="#四、配置流程" aria-label="Permalink to &quot;四、配置流程&quot;">​</a></h2><h3 id="_1-添加源地址" tabindex="-1">1. 添加源地址 <a class="header-anchor" href="#_1-添加源地址" aria-label="Permalink to &quot;1. 添加源地址&quot;">​</a></h3><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#6A737D;"># 查看可选源，* 代表正在使用的源</span></span>
<span class="line"><span style="color:#B392F0;">nrm</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">ls</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># 添加一个私有 npm 源，&#39;localhost&#39; 为自定义的源地址名称</span></span>
<span class="line"><span style="color:#B392F0;">nrm</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">add</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">localhost</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">http://localhost:4873/</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;"># 查看可选源，* 代表正在使用的源</span></span>
<span class="line"><span style="color:#6F42C1;">nrm</span><span style="color:#24292E;"> </span><span style="color:#032F62;">ls</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># 添加一个私有 npm 源，&#39;localhost&#39; 为自定义的源地址名称</span></span>
<span class="line"><span style="color:#6F42C1;">nrm</span><span style="color:#24292E;"> </span><span style="color:#032F62;">add</span><span style="color:#24292E;"> </span><span style="color:#032F62;">localhost</span><span style="color:#24292E;"> </span><span style="color:#032F62;">http://localhost:4873/</span></span></code></pre></div><p><img src="`+d+`" alt="add_registry"></p><h3 id="_2-使用源地址" tabindex="-1">2. 使用源地址 <a class="header-anchor" href="#_2-使用源地址" aria-label="Permalink to &quot;2. 使用源地址&quot;">​</a></h3><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#6A737D;"># &#39;localhost&#39; 为添加源时定义的源地址名称</span></span>
<span class="line"><span style="color:#B392F0;">nrm</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">use</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">localhost</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;"># &#39;localhost&#39; 为添加源时定义的源地址名称</span></span>
<span class="line"><span style="color:#6F42C1;">nrm</span><span style="color:#24292E;"> </span><span style="color:#032F62;">use</span><span style="color:#24292E;"> </span><span style="color:#032F62;">localhost</span></span></code></pre></div><p><img src="`+E+`" alt="use_registry"></p><h3 id="_3-添加用户" tabindex="-1">3. 添加用户 <a class="header-anchor" href="#_3-添加用户" aria-label="Permalink to &quot;3. 添加用户&quot;">​</a></h3><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#6A737D;"># 添加 npm 用户前，需要先启动 verdaccio 服务</span></span>
<span class="line"><span style="color:#B392F0;">npm</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">adduser</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">--registry</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">http://localhost:4873/</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;"># 添加 npm 用户前，需要先启动 verdaccio 服务</span></span>
<span class="line"><span style="color:#6F42C1;">npm</span><span style="color:#24292E;"> </span><span style="color:#032F62;">adduser</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">--registry</span><span style="color:#24292E;"> </span><span style="color:#032F62;">http://localhost:4873/</span></span></code></pre></div><p><img src="`+u+'" alt="adduser"></p><p><em><code>注：</code>密码不能少于8位</em></p><h2 id="五、发布与下载" tabindex="-1">五、发布与下载 <a class="header-anchor" href="#五、发布与下载" aria-label="Permalink to &quot;五、发布与下载&quot;">​</a></h2><h3 id="_1-包" tabindex="-1">1. 包 <a class="header-anchor" href="#_1-包" aria-label="Permalink to &quot;1. 包&quot;">​</a></h3><p><img src="'+h+'" alt="package"></p><p><img src="'+F+'" alt="package"></p><p><img src="'+m+`" alt="package"></p><ul><li>package.json 配置</li></ul><div class="language-json vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">{</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#6A737D;">// 包名</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#79B8FF;">&quot;name&quot;</span><span style="color:#E1E4E8;"> : </span><span style="color:#9ECBFF;">&quot;@its/log&quot;</span><span style="color:#E1E4E8;"> ,</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#6A737D;">// 包的版本号</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#79B8FF;">&quot;version&quot;</span><span style="color:#E1E4E8;"> : </span><span style="color:#9ECBFF;">&quot;1.0.0&quot;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#6A737D;">// 包的描述信息</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#79B8FF;">&quot;description&quot;</span><span style="color:#E1E4E8;">:</span><span style="color:#9ECBFF;">&quot;私有包&quot;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#6A737D;">// 入口文件</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#79B8FF;">&quot;main&quot;</span><span style="color:#E1E4E8;"> : </span><span style="color:#9ECBFF;">&quot;index.ts&quot;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#6A737D;">// 以 ES Module(也就是 ES6)模块化方式进行加载：因为早期没有 ES6 模块化方案时，都是遵循 CommonJS 规范，而 CommonJS 规范的包是以 main 的方式表示入口文件的；为了区分就新增了 module 方式，但是 ES6 模块化方案效率更高，所以会优先查看是否有 module 字段，没有才使用 main 字段。</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#79B8FF;">&quot;module&quot;</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;index.ts&quot;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#6A737D;">// 执行 npm 脚本命令简写</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#79B8FF;">&quot;scripts&quot;</span><span style="color:#E1E4E8;">: {</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">&quot;test&quot;</span><span style="color:#E1E4E8;"> : </span><span style="color:#9ECBFF;">&quot;echo </span><span style="color:#FDAEB7;font-style:italic;">\\ </span><span style="color:#9ECBFF;">&quot;</span><span style="color:#FDAEB7;font-style:italic;">Error:</span><span style="color:#E1E4E8;"> </span><span style="color:#FDAEB7;font-style:italic;">no</span><span style="color:#E1E4E8;"> </span><span style="color:#FDAEB7;font-style:italic;">test</span><span style="color:#E1E4E8;"> </span><span style="color:#FDAEB7;font-style:italic;">specified\\</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot; &amp;&amp; exit 1&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">  },</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#6A737D;">// 关键词</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#79B8FF;">&quot;keywords&quot;</span><span style="color:#E1E4E8;"> : [ </span><span style="color:#9ECBFF;">&quot;npm &quot;</span><span style="color:#E1E4E8;"> ,</span><span style="color:#9ECBFF;">&quot;package&quot;</span><span style="color:#E1E4E8;"> ] ,</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#6A737D;">// 可以配置要上传 npm 的文件白名单目录</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#79B8FF;">&quot;files&quot;</span><span style="color:#E1E4E8;"> : {</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">&quot;dist&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">  },</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#6A737D;">// 开发环境下，项目所需的依赖</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#79B8FF;">&quot;dependencies&quot;</span><span style="color:#E1E4E8;"> : {},</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#6A737D;">// 生产环境下，项目所需的依赖</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#79B8FF;">&quot;devDependencies&quot;</span><span style="color:#E1E4E8;"> : {},</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#6A737D;">// 作者</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#79B8FF;">&quot;author&quot;</span><span style="color:#E1E4E8;"> : </span><span style="color:#9ECBFF;">&quot;wyw&quot;</span><span style="color:#E1E4E8;"> ,</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#6A737D;">// 开源许可协议：BSD ISC MIT ...</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#79B8FF;">&quot;license&quot;</span><span style="color:#E1E4E8;"> :</span><span style="color:#9ECBFF;">&quot;MIT&quot;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#6A737D;">// 代码仓库地址</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#79B8FF;">&quot;repository&quot;</span><span style="color:#E1E4E8;">: {</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#79B8FF;">&quot;type&quot;</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;git&quot;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#79B8FF;">&quot;url&quot;</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">  },</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">{</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6A737D;">// 包名</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#005CC5;">&quot;name&quot;</span><span style="color:#24292E;"> : </span><span style="color:#032F62;">&quot;@its/log&quot;</span><span style="color:#24292E;"> ,</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6A737D;">// 包的版本号</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#005CC5;">&quot;version&quot;</span><span style="color:#24292E;"> : </span><span style="color:#032F62;">&quot;1.0.0&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6A737D;">// 包的描述信息</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#005CC5;">&quot;description&quot;</span><span style="color:#24292E;">:</span><span style="color:#032F62;">&quot;私有包&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6A737D;">// 入口文件</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#005CC5;">&quot;main&quot;</span><span style="color:#24292E;"> : </span><span style="color:#032F62;">&quot;index.ts&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6A737D;">// 以 ES Module(也就是 ES6)模块化方式进行加载：因为早期没有 ES6 模块化方案时，都是遵循 CommonJS 规范，而 CommonJS 规范的包是以 main 的方式表示入口文件的；为了区分就新增了 module 方式，但是 ES6 模块化方案效率更高，所以会优先查看是否有 module 字段，没有才使用 main 字段。</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#005CC5;">&quot;module&quot;</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;index.ts&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6A737D;">// 执行 npm 脚本命令简写</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#005CC5;">&quot;scripts&quot;</span><span style="color:#24292E;">: {</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#005CC5;">&quot;test&quot;</span><span style="color:#24292E;"> : </span><span style="color:#032F62;">&quot;echo </span><span style="color:#B31D28;font-style:italic;">\\ </span><span style="color:#032F62;">&quot;</span><span style="color:#B31D28;font-style:italic;">Error:</span><span style="color:#24292E;"> </span><span style="color:#B31D28;font-style:italic;">no</span><span style="color:#24292E;"> </span><span style="color:#B31D28;font-style:italic;">test</span><span style="color:#24292E;"> </span><span style="color:#B31D28;font-style:italic;">specified\\</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot; &amp;&amp; exit 1&quot;</span></span>
<span class="line"><span style="color:#24292E;">  },</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6A737D;">// 关键词</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#005CC5;">&quot;keywords&quot;</span><span style="color:#24292E;"> : [ </span><span style="color:#032F62;">&quot;npm &quot;</span><span style="color:#24292E;"> ,</span><span style="color:#032F62;">&quot;package&quot;</span><span style="color:#24292E;"> ] ,</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6A737D;">// 可以配置要上传 npm 的文件白名单目录</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#005CC5;">&quot;files&quot;</span><span style="color:#24292E;"> : {</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#005CC5;">&quot;dist&quot;</span></span>
<span class="line"><span style="color:#24292E;">  },</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6A737D;">// 开发环境下，项目所需的依赖</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#005CC5;">&quot;dependencies&quot;</span><span style="color:#24292E;"> : {},</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6A737D;">// 生产环境下，项目所需的依赖</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#005CC5;">&quot;devDependencies&quot;</span><span style="color:#24292E;"> : {},</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6A737D;">// 作者</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#005CC5;">&quot;author&quot;</span><span style="color:#24292E;"> : </span><span style="color:#032F62;">&quot;wyw&quot;</span><span style="color:#24292E;"> ,</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6A737D;">// 开源许可协议：BSD ISC MIT ...</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#005CC5;">&quot;license&quot;</span><span style="color:#24292E;"> :</span><span style="color:#032F62;">&quot;MIT&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6A737D;">// 代码仓库地址</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#005CC5;">&quot;repository&quot;</span><span style="color:#24292E;">: {</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#005CC5;">&quot;type&quot;</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;git&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#005CC5;">&quot;url&quot;</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;&quot;</span></span>
<span class="line"><span style="color:#24292E;">  },</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre></div><h3 id="_2-登录" tabindex="-1">2. 登录 <a class="header-anchor" href="#_2-登录" aria-label="Permalink to &quot;2. 登录&quot;">​</a></h3><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#6A737D;"># 登录</span></span>
<span class="line"><span style="color:#B392F0;">npm</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">login</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># 验证是否登录成功，登录成功后会显示用户名</span></span>
<span class="line"><span style="color:#B392F0;">npm</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">who</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">i</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">am</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;"># 登录</span></span>
<span class="line"><span style="color:#6F42C1;">npm</span><span style="color:#24292E;"> </span><span style="color:#032F62;">login</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;"># 验证是否登录成功，登录成功后会显示用户名</span></span>
<span class="line"><span style="color:#6F42C1;">npm</span><span style="color:#24292E;"> </span><span style="color:#032F62;">who</span><span style="color:#24292E;"> </span><span style="color:#032F62;">i</span><span style="color:#24292E;"> </span><span style="color:#032F62;">am</span></span></code></pre></div><p><img src="`+g+`" alt="login"></p><h3 id="_3-发布" tabindex="-1">3. 发布 <a class="header-anchor" href="#_3-发布" aria-label="Permalink to &quot;3. 发布&quot;">​</a></h3><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#6A737D;"># 发布前，需要先切换到要上传的包报所在的目录</span></span>
<span class="line"><span style="color:#B392F0;">npm</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">publish</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;"># 发布前，需要先切换到要上传的包报所在的目录</span></span>
<span class="line"><span style="color:#6F42C1;">npm</span><span style="color:#24292E;"> </span><span style="color:#032F62;">publish</span></span></code></pre></div><p><img src="`+q+'" alt="publish"></p><p><img src="'+C+`" alt="publish"></p><h3 id="_4-下载" tabindex="-1">4. 下载 <a class="header-anchor" href="#_4-下载" aria-label="Permalink to &quot;4. 下载&quot;">​</a></h3><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#6A737D;"># &#39;@its/log&#39; 为上传包的包名</span></span>
<span class="line"><span style="color:#B392F0;">npm</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">install</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">@its/log</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">--save</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;"># &#39;@its/log&#39; 为上传包的包名</span></span>
<span class="line"><span style="color:#6F42C1;">npm</span><span style="color:#24292E;"> </span><span style="color:#032F62;">install</span><span style="color:#24292E;"> </span><span style="color:#032F62;">@its/log</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">--save</span></span></code></pre></div><p><img src="`+b+'" alt="download"></p><p><img src="'+v+'" alt="download"></p><h2 id="六、参考文章" tabindex="-1">六、参考文章 <a class="header-anchor" href="#六、参考文章" aria-label="Permalink to &quot;六、参考文章&quot;">​</a></h2><blockquote><p><a href="https://verdaccio.org/zh-cn/" target="_blank" rel="noreferrer">https://verdaccio.org/zh-cn/</a><br><a href="https://www.jianshu.com/p/a13dd18782cf" target="_blank" rel="noreferrer">https://www.jianshu.com/p/a13dd18782cf</a><br><a href="https://juejin.cn/post/7039167344140091406" target="_blank" rel="noreferrer">https://juejin.cn/post/7039167344140091406</a><br><a href="https://blog.csdn.net/kouhunzhe/article/details/125166518" target="_blank" rel="noreferrer">https://blog.csdn.net/kouhunzhe/article/details/125166518</a><br><a href="https://blog.csdn.net/qq_41671623/article/details/125418127?spm=1001.2014.3001.5502" target="_blank" rel="noreferrer">https://blog.csdn.net/qq_41671623/article/details/125418127?spm=1001.2014.3001.5502</a></p></blockquote>',83),k=[B];function D(f,A,P,x,S,w){return a(),n("div",null,k)}const M=s(_,[["render",D]]);export{I as __pageData,M as default};
